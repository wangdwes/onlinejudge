import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;

public class Solution {

    public int ladderLength(String start, String end, Set<String> dict) {
    	if (start == end) return 0;

    	Set<String> seeds = new HashSet<String>();
    	Set<String> interchange = new HashSet<String>();
    	seeds.add(start); dict.add(end); int iterations = 0; 
    	
    	while (!seeds.isEmpty() && !seeds.contains(end)) {
    		interchange.clear();
    		int discrep = 0, mindiscrep = Integer.MAX_VALUE;
    		
    		Iterator<String> seedIterator = seeds.iterator();
    		while (seedIterator.hasNext()) {
    			String seed = seedIterator.next();
    			Iterator<String> dictIterator = dict.iterator();
    			while (dictIterator.hasNext()) {
    				String diction = dictIterator.next();
    				discrep = discrepancy(seed, diction);
    				mindiscrep = Math.min(mindiscrep, discrep);
    				if (discrep == 1) {
    					dictIterator.remove();
    					seedIterator.remove(); } }
    			if (mindiscrep > 1) seedIterator.remove();
    		}

    		seeds.clear(); 
    		seeds.addAll(interchange); 
    		iterations++;
    	}

    	if (seeds.contains(end)) return iterations + 1;
    	else return 0;
    }
    
    public int discrepancy(String a, String b) {
    	int retval = 0; 
    	for (int index = 0; index < a.length(); index++)
    		if (a.charAt(index) != b.charAt(index)) {
    			retval++; if (retval > 1) break; }
    	return retval;
    }
    
	
}
